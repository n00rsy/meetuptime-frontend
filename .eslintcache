[{"C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\reportWebVitals.js":"1","C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\index.js":"2","C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\createPage\\CreateForm.js":"3","C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\createPage\\calendar.js":"4","C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\createPage\\week.js":"5","C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\createPage\\createForm.js":"6","C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\createPage\\createPage.js":"7","C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\viewPage\\viewPage.js":"8","C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\viewPage\\signinForm.js":"9","C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\viewPage\\available.js":"10","C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\viewPage\\table.js":"11","C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\viewPage\\utils.js":"12","C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\viewPage\\timeTable.js":"13","C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\viewPage\\signoutForm.js":"14"},{"size":362,"mtime":499162500000,"results":"15","hashOfConfig":"16"},{"size":1002,"mtime":1606523619407,"results":"17","hashOfConfig":"16"},{"size":5617,"mtime":1606456407006,"results":"18","hashOfConfig":"16"},{"size":777,"mtime":1606437499067,"results":"19","hashOfConfig":"16"},{"size":1432,"mtime":1606442305526,"results":"20","hashOfConfig":"16"},{"size":8981,"mtime":1607636904688,"results":"21","hashOfConfig":"16"},{"size":209,"mtime":1606456606388,"results":"22","hashOfConfig":"16"},{"size":4344,"mtime":1607579912287,"results":"23","hashOfConfig":"16"},{"size":2626,"mtime":1607570749620,"results":"24","hashOfConfig":"16"},{"size":2836,"mtime":1607579172283,"results":"25","hashOfConfig":"16"},{"size":9582,"mtime":1607583333681,"results":"26","hashOfConfig":"16"},{"size":2572,"mtime":1607574013910,"results":"27","hashOfConfig":"16"},{"size":1831,"mtime":1607578030889,"results":"28","hashOfConfig":"16"},{"size":575,"mtime":1607579965420,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"17p8c2d",{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"53","messages":"54","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\reportWebVitals.js",[],"C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\index.js",["60"],"C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\createPage\\CreateForm.js",[],"C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\createPage\\calendar.js",[],"C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\createPage\\week.js",[],"C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\createPage\\createForm.js",["61","62","63","64"],"C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\createPage\\createPage.js",[],"C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\viewPage\\viewPage.js",["65","66"],"import React, { useState, useEffect } from 'react'\r\nimport { useLocation, useHistory } from 'react-router-dom'\r\n\r\nimport SigninForm from './signinForm'\r\nimport SignoutForm from './signoutForm'\r\nimport AvailabilityTable from './available'\r\nimport { convert1dTo2dArray, initialize2dIntArray, add2dArrays, map2dArray } from './utils'\r\nimport Moment from 'moment-timezone'\r\n\r\nexport default function ViewPage() {\r\n\r\n    const [meetingData, setMeetingData] = useState(null)\r\n    const [userData, setUserData] = useState(null)\r\n    const [timezone, _setTimezone] = useState(Moment.tz.guess())\r\n    const [fetchErr, setFetchErr] = useState(false)\r\n\r\n    const location = useLocation()\r\n    const history = useHistory()\r\n\r\n    function handlePath() {\r\n        console.log(\"handling path!!!\")\r\n        let path = location.pathname\r\n        if (path.length === 9) {\r\n            getMeeting(path)\r\n        }\r\n        else {\r\n            console.log(\"invalid path\")\r\n            setFetchErr(true)\r\n        }\r\n    }\r\n\r\n    function getMeeting(path) {\r\n        fetch('/api/meetings' + path, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n        })\r\n            .then(res => {\r\n                console.log('raw server response: ', res)\r\n                return res.status === 404 ? null : res.json()\r\n            })\r\n            .then(data => {\r\n                if (data == null) {\r\n                    setFetchErr(true)\r\n                }\r\n                else {\r\n                    if (data.days.length === 0) data.days = [...data.dates]\r\n\r\n                    //let availableCount = initialize2dIntArray(data.numTimeslots, data.numDays)\r\n                    data.availableCount = initialize2dIntArray(data.numTimeslots, data.numDays)\r\n                    data.numRespondents = data.people.length\r\n                    data.people.forEach(person => {\r\n                        person.available = convert1dTo2dArray(person.available, data.numTimeslots, data.numDays)\r\n                        data.availableCount = add2dArrays(data.availableCount, person.available)\r\n                        //console.log(\"converted available array: \" + person.name, person.available)\r\n                    })\r\n                    data.colors = map2dArray(data.availableCount, data.numRespondents)\r\n                    if (data.surveyUsing === \"Dates\") data.localTimes = setTimezone(data.days, timezone)\r\n                    console.log(\"processed data: \", data)\r\n                    setMeetingData(data)\r\n\r\n                }\r\n            })\r\n    }\r\n\r\n    function setTimezone(days, usertz) {\r\n        let localTimes = []\r\n        days.forEach(day => {\r\n            localTimes.push(Moment.utc(day).tz(usertz))\r\n        })\r\n        _setTimezone(usertz)\r\n        return localTimes\r\n    }\r\n\r\n    function handleTimezone(e) {\r\n        console.log(\"changing timezone to \", e.target.value)\r\n        let localTimes = setTimezone(meetingData.days, e.target.value)\r\n        console.log(meetingData.localTimes)\r\n        setMeetingData({ ...meetingData, localTimes: localTimes })\r\n    }\r\n\r\n    function SignInSignOut() {\r\n        if(userData == null) return <SigninForm meetingData={meetingData} setMeetingData={setMeetingData} userData={userData} setUserData={setUserData} />\r\n        else return <SignoutForm userData={userData} setUserData={setUserData} getMeeting = {() => getMeeting('/' + meetingData.id)}/>\r\n    }\r\n\r\n    useEffect(() => handlePath(), [])\r\n    useEffect(() => {\r\n        console.log(\"new meeting data: \", meetingData)\r\n    }, [meetingData])\r\n\r\n    if (fetchErr) {\r\n        return (\r\n            <p>404 Invalid URL!!!</p>\r\n        )\r\n    }\r\n\r\n    if (meetingData == null) {\r\n        return (\r\n            <p>Loading...</p>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>{meetingData.name}</h1>\r\n            <h2>{meetingData.description}</h2>\r\n            <SignInSignOut />\r\n            {<AvailabilityTable meetingData={meetingData} userData={userData} setUserData={setUserData} />}\r\n            {meetingData.surveyUsing === \"Dates\" && <select name=\"timezone\" defaultValue={timezone} onChange={handleTimezone}>{Moment.tz.names().map(tz => <option >{tz}</option>)}</select>}\r\n            <p>Create your own!</p>\r\n            <p>Submit feedback</p>\r\n        </div>\r\n    )\r\n\r\n}","C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\viewPage\\signinForm.js",[],"C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\viewPage\\available.js",[],"C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\viewPage\\table.js",["67","68","69"],"C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\viewPage\\utils.js",["70","71","72","73"],"export const convert1dTo2dArray = (input, numRows, numCols) => {\r\n    let output = []\r\n    for (let row = 0; row < numRows; row++) {\r\n        let currRow = []\r\n        for (let col = 0; col < numCols; col++) {\r\n            currRow.push(input[getIndexFromCoords(row, col, numCols)])\r\n        }\r\n        output.push(currRow)\r\n    }\r\n    return output\r\n}\r\n\r\nexport const subtract2dArrays = (a, b) => {\r\n    for (let row = 0; row < a.length; row++) {\r\n        for (let col = 0; col < a[0].length; col++) {\r\n            a[row][col] -= b[row][col] === true ? 1 : 0\r\n        }\r\n    }\r\n    return a\r\n}\r\n\r\nexport const add2dArrays = (a, b) => {\r\n    //console.log(\"addition input:\", a, b)\r\n    for (let row = 0; row < a.length; row++) {\r\n        for (let col = 0; col < a[0].length; col++) {\r\n            a[row][col] += b[row][col]\r\n        }\r\n    }\r\n    //console.log(\"addition output: \", a)\r\n    return a\r\n}\r\n\r\nexport const getIndexFromCoords = (row, col, numCols) => {\r\n    return (row * numCols) + col\r\n}\r\n\r\nexport const convert2dTo1dArray = (matrix) => {\r\n    let output = []\r\n    matrix.forEach(row => {\r\n        row.forEach(cell => {\r\n            output.push(cell)\r\n        })\r\n    })\r\n    //console.log(\"1d array:\", output)\r\n    return output\r\n}\r\n\r\nexport const initialize2dIntArray = (numRows, numCols) => {\r\n    let output = []\r\n    for (let row = 0; row < numRows; row++) {\r\n        let currRow = []\r\n        for (let col = 0; col < numCols; col++) {\r\n            currRow.push(0)\r\n        }\r\n        output.push(currRow)\r\n    }\r\n    return output\r\n}\r\n\r\nexport const map2dArray= (matrix, num) => {\r\n    console.log(\"mapping matrix to this many respondants: \", num)\r\n    let output = []\r\n    for (let row = 0; row < matrix.length; row++) {\r\n        let currRow = []\r\n        for (let col = 0; col < matrix[0].length; col++) {\r\n            if(num === 0 || matrix[row][col] === 0) currRow.push(\"#ffffff\")\r\n            else if(num === 1) {\r\n                currRow.push(\"#325c35\")\r\n            }\r\n            else currRow.push(lerpColor(0xcde3c8, 0x325c35 , (matrix[row][col]-1)/(num-1)))\r\n        }\r\n        output.push(currRow)\r\n    }\r\n    return output\r\n}\r\n\r\nexport const lerpColor = function(a, b, amount) {\r\n    const ar = a >> 16,\r\n          ag = a >> 8 & 0xff,\r\n          ab = a & 0xff,\r\n\r\n          br = b >> 16,\r\n          bg = b >> 8 & 0xff,\r\n          bb = b & 0xff,\r\n\r\n          rr = ar + amount * (br - ar),\r\n          rg = ag + amount * (bg - ag),\r\n          rb = ab + amount * (bb - ab);\r\n\r\n    return '#' + ((rr << 16) + (rg << 8) + (rb | 0)).toString(16);\r\n}","C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\viewPage\\timeTable.js",[],"C:\\Users\\noors\\Documents\\meetuptime-frontend\\meetuptime\\src\\viewPage\\signoutForm.js",[],{"ruleId":"74","severity":1,"message":"75","line":9,"column":3,"nodeType":"76","messageId":"77","endLine":9,"endColumn":7},{"ruleId":"74","severity":1,"message":"78","line":67,"column":14,"nodeType":"76","messageId":"77","endLine":67,"endColumn":25},{"ruleId":"79","severity":1,"message":"80","line":90,"column":8,"nodeType":"81","endLine":90,"endColumn":37,"suggestions":"82"},{"ruleId":"83","severity":1,"message":"84","line":225,"column":73,"nodeType":"85","messageId":"86","endLine":225,"endColumn":75},{"ruleId":"83","severity":1,"message":"84","line":226,"column":38,"nodeType":"85","messageId":"86","endLine":226,"endColumn":40},{"ruleId":"74","severity":1,"message":"87","line":18,"column":11,"nodeType":"76","messageId":"77","endLine":18,"endColumn":18},{"ruleId":"79","severity":1,"message":"88","line":88,"column":35,"nodeType":"81","endLine":88,"endColumn":37,"suggestions":"89"},{"ruleId":"74","severity":1,"message":"90","line":3,"column":8,"nodeType":"76","messageId":"77","endLine":3,"endColumn":17},{"ruleId":"74","severity":1,"message":"91","line":129,"column":13,"nodeType":"76","messageId":"77","endLine":129,"endColumn":16},{"ruleId":"74","severity":1,"message":"92","line":129,"column":18,"nodeType":"76","messageId":"77","endLine":129,"endColumn":24},{"ruleId":"83","severity":1,"message":"93","line":79,"column":18,"nodeType":"94","messageId":"86","endLine":79,"endColumn":20},{"ruleId":"83","severity":1,"message":"93","line":79,"column":23,"nodeType":"94","messageId":"86","endLine":79,"endColumn":24},{"ruleId":"83","severity":1,"message":"93","line":83,"column":18,"nodeType":"94","messageId":"86","endLine":83,"endColumn":20},{"ruleId":"83","severity":1,"message":"93","line":83,"column":23,"nodeType":"94","messageId":"86","endLine":83,"endColumn":24},"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'sendMeeting' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'daySelectionError'. Either include it or remove the dependency array.","ArrayExpression",["95"],"no-mixed-operators","Unexpected mix of '||' and '&&'.","LogicalExpression","unexpectedMixedOperator","'history' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'handlePath'. Either include it or remove the dependency array.",["96"],"'PropTypes' is defined but never used.","'row' is assigned a value but never used.","'column' is assigned a value but never used.","Unexpected mix of '>>' and '&'.","BinaryExpression",{"desc":"97","fix":"98"},{"desc":"99","fix":"100"},"Update the dependencies array to be: [daySelectionError, selectedDates, selectedDays]",{"range":"101","text":"102"},"Update the dependencies array to be: [handlePath]",{"range":"103","text":"104"},[2730,2759],"[daySelectionError, selectedDates, selectedDays]",[3488,3490],"[handlePath]"]